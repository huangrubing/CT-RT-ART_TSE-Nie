# An Empirical Comparison of CT, RT, and ART

This study aims to investigate the relative performance of combinatorial (CT), random (RT) and adaptive random (ART) testing under different test scenarios.

To generate test suties for a particular program, run:

	java -jar Generation.jar [NAME] [STRENGTH]

This will produce a set of `[PARA]_[CONS]_[STRENGTH]_[TECHNIQUE].ca` files, each of which contains 50 test suites generated by a testing technique for a test scenario (note that here *para* is the number of parameters).

To evaluate the fault detection ability of the three testing techniques for a particular program, run

	java -jar Evaluation.jar [NAME] [STRENGTH]

This will read all required `.ca` files and produce `[NAME]_[STRENGTH].data` files, which give the fault detection matrix for each of the three testing techniques.



### 1. Test Model

The `[NAME].model` gives the complete test model of a program, including number of parametes `<Parameter>`, number of values of each parameter `<Value>`, default test case `<Default>` and constraints `<Constraint`.

Each constraint is encoded by a boolean formula. To do this, each parameter value is represented by a boolean variable, and each constraint is written as a conjunction of disjunctions over these variables.

For example, assume that the test model has five parameters (P1, P2, P3, P4, P5), and the first two parameters have two values and the last three parameters have three values. Then
we have:

	<Parameter> 5
	<Value> 2 2 3 3 3

A total of 13 boolean variables (x1 ~ x13) will be used to represent these parameter-values. They are arranged as follows (x1 = true represents that parameter P1 takes its first value):

	P1  P2  P3  P4   P5
	x1  x3  x5  x8   x11
	x2  x4  x6  x9   x12
	    	x7  x10  x13

Also assume that the test model has the following two constraints:

	<Constraint> 2
	-3 -5
	-7 8 13

The first constraint, `-3 -5`, indicates that values 3 and 5 cannot appear together, namely parameter P2 and P3 cannot both take their first values. The second constraint, `-7 8 13`, indicates that choosing value 7 (the third value of P3) implies either value 8 (the first value of P4) or value 13 (the third value of P5).



### 2. Corpus of Fault

The `[NAME].bug` gives fault triggering test cases or parameter-value combinations of a program.

For SIR programs, each fault has an identifier and a list of test cases (of the complete model) that can trigger this fault, such as:

	f.2.8
	0 0 0 2 1 0 1 1 2 
	0 0 0 2 1 0 1 1 3 
	0 0 0 2 1 1 1 1 1 

For DRUPAL, BUSYBOX and LINUX, each fault has an identifier and one or more parameter-value combiantions that can trigger this fault, such as:
	
	f.5 : CAPTCHA && CKEDITOR

All faults are considered equally in this study.



### 3. Test Scenario

The `[NAME].scenario` gives all test scenarios defined for a program (i.e. all combiantions of *para*, *cons* and *rate*). It also gives the set of detectable faults for each test scenario (these faults have the same *rate*).

	PARA = 6 CONS = 0.50 NUM = 11
	RATE [0.0016339869281045752, 0.016339869281045753, 0.032679738562091505, 0.06862745098039216, 0.11437908496732026, 0.119281045751634]
		[f.3.0]
		[f.3.9, f.2.0]
		[f.3.11, f.4.11]
		[f.1.2]
		[f.1.10, f.3.12]
		[f.3.1, f.3.2, f.3.15]

For example, the above represents six test scenarios: *<6, 0.5, 0.0016>*, *<6, 0.5, 0.0163>*, *<6, 0.5, 0.0326>*, ..., *<6, 0.5, 0.1192>* (note that here *para* is the number of parameters). 

For the first scenario *<6, 0.5, 0.0016>*, there is only one fault `f.3.0` (i.e. the *rate* of this fault is 0.0016 when the test model has *para* = 6 and *cons* = 0.5); for the second scenario *<6, 0.5, 0.0163>*, there are two faults `f.3.9` and `f.2.0` (these two faults have the same *rate* = 0.0163), and so on.

Additionally, *NUM* is the number of faults that can be detected under this combiantion of *para* and *cons*.



### 4. Experimental Data

The `[NAME]_[STRENGTH].data` gives the evaluation results for a program.

The first three lines give all examined choices of *para* and *cons*, and all (ordered) detectable faults.

	PARAMETER [4, 6, 8, 9]                   # number of parameters
	CONSTRAINT [0.0, 0.25, 0.5, 0.75, 1.0]   # proportion of constraints
	FAULT [f.3.0, f.3.17, f.2.0, f.3.9, f.4.11, f.3.11, f.1.2, f.3.15, f.1.10, f.3.12, f.3.2, f.3.1]

Then, for each test model, namely each combination of *para* and *cons*, the results obtained from 50 test suites are provided (namely, there are 50 values for each measure).

	# 4 [3, 3, 4, 6] 2 0.00	    
	SIZE     = [24, 24, 25, 24, 25, 24, ...]
	CT-COST  = [2, 2, 2, 2, 2, 1, 2, 1, ...]
	RT-COST  = [0, 0, 0, 0, 0, 0, 0, 0, ...]
	ART-COST = [0, 0, 0, 0, 0, 0, 0, 1, ...]

Here, the first line gives the number of parametes `4`, the values of each parameter `[3, 3, 4, 6]`, the covering strength `2` and the proportion of constraints `0.0`; the second line gives the size of test suites; and the next three lines give the execution cost (ms) of each testing technique.

	CT MATRIX
		[0, 0, 0, 0, 0, 0, ...]    # f.3.0
		[0, 0, 0, 0, 0, 0, ...]    # f.3.17
		[0, 0, 0, 0, 0, 0, ...]    # f.2.0
		[0, 0, 0, 0, 0, 0, ...]    # f.3.9
		[1, 1, 0, 1, 1, 1, ...]    # f.4.11
		[1, 1, 0, 1, 1, 1, ...]    # f.3.11
		...
		[1, 0, 1, 0, 0, 0, ...]    # f.3.1
	RT MATRIX
	    ...
	ART MATRIX
	    ...

Then, the fault detection matrix is used to indicate whether a fault can be detected in each of 50 runs. Note that the order of faults is as that provided in the third line of this file. For example, for the fault `f.4.11`, CT can detect it at the 1st, 2nd, 4th, 5th, 6th, ... runs.

Finally, by combining the fault detection matrix and the set of faults in a test scenario (as provided in `[NAME].scenario`), we can compute the proportion of faults detected by each testing technique in that test scenario.



### 5. Fault Detection Data

The `[NAME].all.data` gives the results of fault detection with respect to each test scenario.

In this file, each line represents a test scenario:

	2  0.6  0.75  0.32142857142857145  1.000  0.943  1.000  ['CT', 'ART']

The first value 2 is the covering strength applied; the next three values indicate the test scenario: <*para* = 0.6, *cons* = 0.75, *rate* = 0.32142>; the next three values give the proportion of faults detected by CT (1.0), RT (0.943) and ART (1.0); and the last is the set of favourable techniques (in this case, CT and ART).

